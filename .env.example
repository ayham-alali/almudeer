# ===========================================
# Al-Mudeer Backend - Environment Configuration
# ===========================================
# SECURITY WARNING: Never commit actual .env file to version control!
# Copy this file to .env and fill in your actual values.
# Generate new secrets for all fields marked [GENERATE NEW]

# -------------------------------------------
# Admin & Authentication
# -------------------------------------------
# [GENERATE NEW] 64 hex characters = 256 bits of entropy
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
ADMIN_KEY=[GENERATE NEW - 64 hex chars]

# [GENERATE NEW] 64 hex characters = 256 bits of entropy
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET_KEY=[GENERATE NEW - 64 hex chars]

# [GENERATE NEW] 64 hex characters = 256 bits of entropy
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
DEVICE_SECRET_PEPPER=[GENERATE NEW - 64 hex chars]

# [GENERATE NEW] 64 hex characters = 256 bits of entropy
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# SECURITY FIX #6: Server-side pepper for license key hashing (prevents rainbow table attacks)
LICENSE_KEY_PEPPER=[GENERATE NEW - 64 hex chars]

# Encryption key for sensitive data (Fernet key format)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=[GENERATE NEW - Fernet key]

# Optional salt for key derivation (64 hex chars recommended)
ENCRYPTION_SALT=

# JWT Token Expiration
JWT_ACCESS_EXPIRE_MINUTES=30
JWT_REFRESH_EXPIRE_DAYS=7

# -------------------------------------------
# Database Configuration
# -------------------------------------------
DB_TYPE=postgresql
DATABASE_PATH=almudeer.db

# [SECURITY] Use environment-specific database credentials
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://postgres:[PASSWORD]@localhost:5432/almudeer

# Query timeout in seconds
DB_QUERY_TIMEOUT=30

# -------------------------------------------
# Redis Configuration (REQUIRED FOR PRODUCTION)
# -------------------------------------------
# Format: redis://[:password]@host:port
# [SECURITY] Use strong password and restrict network access
REDIS_URL=redis://localhost:6379

# -------------------------------------------
# Google Cloud Platform
# -------------------------------------------
GCP_PROJECT_ID=your-gcp-project-id
GCP_LOCATION=us-central1
GOOGLE_APPLICATION_CREDENTIALS=firebase-service-account.json

# -------------------------------------------
# Firebase Cloud Messaging (FCM)
# -------------------------------------------
FCM_PROJECT_ID=your-fcm-project-id

# [SECURITY] Keep FCM server key secret - allows sending push notifications
FCM_SERVER_KEY=[YOUR FCM SERVER KEY]

# -------------------------------------------
# VAPID Keys for Web Push Notifications
# -------------------------------------------
# Generate with: web-push generate-vapid-keys
VAPID_PUBLIC_KEY=[YOUR VAPID PUBLIC KEY]
VAPID_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\n[YOUR VAPID PRIVATE KEY]\n-----END PRIVATE KEY-----\n
VAPID_CLAIMS_EMAIL=mailto:your-email@domain.com

# -------------------------------------------
# Agora.io (Video/Audio Calls)
# -------------------------------------------
# [SECURITY] Keep app certificate secret
AGORA_APP_ID=your-agora-app-id
AGORA_APP_CERTIFICATE=your-agora-app-certificate

# -------------------------------------------
# Frontend & HTTPS
# -------------------------------------------
FRONTEND_URL=https://your-domain.com
HTTPS_ONLY=true

# -------------------------------------------
# Auto Update Configuration
# -------------------------------------------
MAX_APK_SIZE_MB=150
APK_CDN_URL=https://your-domain.com/apk
APK_CDN_URL_UNIVERSAL=https://your-cdn.com/almudeer.apk
APK_CDN_URL_ARM64=https://your-cdn.com/almudeer_arm64_v8a.apk
APK_CDN_URL_ARMV7=https://your-cdn.com/almudeer_armeabi_v7a.apk
APK_CDN_URL_X86=https://your-cdn.com/almudeer_x86_64.apk
APP_DOWNLOAD_URL=https://your-domain.com/download/almudeer.apk
FORCE_UPDATE_ENABLED=true

# Rate limiting for version check
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW=60

# -------------------------------------------
# Admin Security
# -------------------------------------------
# Comma-separated list of allowed admin IPs (leave empty to allow all)
ADMIN_IP_WHITELIST=

# -------------------------------------------
# Environment
# -------------------------------------------
# Set to 'production' in production environment
ENVIRONMENT=development
