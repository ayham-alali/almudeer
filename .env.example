# Al-Mudeer Backend Environment Variables
# Copy this file to .env and fill in the values

# ============ Required ============

# Admin key for protected endpoints (generate a strong random string)
ADMIN_KEY=your-secure-admin-key-here

# Encryption key for sensitive data (32+ characters recommended)
ENCRYPTION_KEY=your-encryption-key-here

# ============ Database ============

# Database type: "sqlite" (development) or "postgresql" (production)
# IMPORTANT: Use postgresql for production with 100+ users
DB_TYPE=sqlite

# SQLite database path (when DB_TYPE=sqlite)
DATABASE_PATH=almudeer.db

# PostgreSQL connection URL (when DB_TYPE=postgresql)
# Railway auto-populates this variable when you add PostgreSQL add-on
# DATABASE_URL=postgresql://user:password@host:5432/dbname

# ============ AI / LLM ============
# At least one provider is required for AI features

# Option 1: OpenAI (PAID - requires billing)
# OPENAI_API_KEY=sk-...
# OPENAI_MODEL=gpt-4o  # or gpt-3.5-turbo for cheaper

# Option 2: Google Gemini (FREE tier available!)
# Get free key: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=your_gemini_key_here
GOOGLE_MODEL=gemini-2.5-flash

# Option 3: OpenRouter (FREE tier backup)
# Get free key: https://openrouter.ai (sign up with GitHub)
OPENROUTER_API_KEY=your_openrouter_key_here
OPENROUTER_MODEL=google/gemini-2.0-flash-exp:free

# FREE TIER OPTIMIZATION:
# - Leave OPENAI_API_KEY empty or unset
# - Set GOOGLE_API_KEY from Google AI Studio (free)
# - Set OPENROUTER_API_KEY as backup (free)
# - Keep concurrency LOW and cache TTL HIGH

# LLM Caching (CRITICAL for free tier - reduces API calls by 60-80%)
LLM_CACHE_ENABLED=true
LLM_CACHE_TTL_HOURS=48

# Concurrency control (prevents rate limiting)
# FREE TIER: Keep at 2 to avoid hitting Gemini's 15 req/min limit
LLM_MAX_CONCURRENT=2

# Delay between requests in seconds (for rate limit protection)
# FREE TIER: Keep at 2.0 seconds for safety
LLM_REQUEST_DELAY=2.0

# ============ Gmail OAuth 2.0 ============

# Get these from Google Cloud Console: https://console.cloud.google.com/
# GMAIL_CLIENT_ID=your-client-id.apps.googleusercontent.com
# GMAIL_CLIENT_SECRET=your-client-secret
# GMAIL_REDIRECT_URI=https://your-domain.com/api/integrations/email/oauth/callback

# ============ Telegram ============

# Get these from https://my.telegram.org/apps
# TELEGRAM_API_ID=12345678
# TELEGRAM_API_HASH=your-api-hash

# ============ WhatsApp Business ============

# Get these from Meta for Developers: https://developers.facebook.com/
# WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
# WHATSAPP_ACCESS_TOKEN=your-access-token
# WHATSAPP_VERIFY_TOKEN=your-verify-token

# ============ Redis Caching (Recommended for 50+ users) ============
# Railway auto-populates this when you add Redis add-on
# REDIS_URL=redis://default:password@host:6379

# ============ Frontend URL ============

# Used for CORS and OAuth redirects
FRONTEND_URL=https://almudeer.royaraqamia.com
